var $jscomp = $jscomp || {};
$jscomp.scope = {};
$jscomp.createTemplateTagFirstArg = function(a) { return a.raw = a };
$jscomp.createTemplateTagFirstArgWithRaw = function(a, b) { a.raw = b; return a };
$jscomp.arrayIteratorImpl = function(a) { var b = 0; return function() { return b < a.length ? { done: !1, value: a[b++] } : { done: !0 } } };
$jscomp.arrayIterator = function(a) { return { next: $jscomp.arrayIteratorImpl(a) } };
$jscomp.makeIterator = function(a) { var b = "undefined" != typeof Symbol && Symbol.iterator && a[Symbol.iterator]; return b ? b.call(a) : $jscomp.arrayIterator(a) };

var $enableHotCookie = document.querySelector("[enable-hot-cookie]");

function remember() {
    var a = document.login.querySelector("input[username-field]"),
        b, c = null != (b = document.login.querySelector("input[password-field]")) ? b : "",
        d, e = document.getElementById("speed");
    b = null != (d = document.querySelector("input[used]")) ? d : !0;
    null != a && "" !== a.value && (a = a.value, "" !== c && (c = c.value), !0 !== b && (b = b.checked), b && setLoginCardCookie(a, c, e.value))
}

function setLoginCardCookie(a, b, domain) {
    b = void 0 === b ? "" : b;
    if (a) {
        var c = new Date;
        c.setTime(c.getTime() + 2592E6);
        c = c.toUTCString();
        document.cookie = "username=" + a + ";expires=" + c;
        "" !== b && (document.cookie = "password=" + b + ";expires=" + c);
        document.cookie = "domain=" + domain + ";expires=" + c;
    }
}

function getLoginCardCookie() {
    var a = document.cookie.split(";"),
        b = { username: "", password: "", domain: "" };
    a = $jscomp.makeIterator(a);
    for (var c = a.next(); !c.done; c = a.next()) {
        c = c.value.trim().split("=");
        if (c[0] === "username") b.username = c[1];
        else if (c[0] === "password") b.password = c[1];
        else if (c[0] === "domain") b.domain = c[1];
    }
    return b;
}

function cookieLogin() {
    if (isEnable()) {
        var a = getLoginCardCookie();
        console.log(a);
        if ("" !== a.username) {
            console.log("loginCard");
            var domain = a.domain ? "&domain=" + a.domain : "";
            return "" === a.password ? getRequest("/login?username=" + a.username + domain + "&var=callBack") : getRequest("/login?username=" + a.username + "&password=" + a.password + domain + "&var=callBack")
        }
    }
    document.login.querySelector("input[username-field]").value = getLoginCardCookie().username;
}

function clearCookies() {
    for (var a = $jscomp.makeIterator(["username", "password", "domain", "userCount", "face", "bind", "speed", "vpn", "upcl"]), b = a.next(); !b.done; b = a.next()) document.cookie = b.value + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT"
}
function isEnable() { return !(null === $enableHotCookie || 1 !== hotspotConfig["enable-hot-cookie"]) }

function registerClearCookieButton() {
    var a = document.querySelector("[clear-hot-cookie]");
    if (null === a) return !1;
    a.addEventListener("click", function(b) { clearCookies() });
    return !0
}
document.addEventListener("DOMContentLoaded", function() { registerClearCookieButton() }, !1);
